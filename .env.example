# =============================================================================
# Weekly Digest - Configuration
# =============================================================================
# Copier ce fichier vers .env et remplir les valeurs

# -----------------------------------------------------------------------------
# Readeck - Gestion des bookmarks
# -----------------------------------------------------------------------------
# URL interne du service Readeck (dans Docker)
READECK_URL=http://readeck:8000

# Token API Readeck (générer dans Profil > API Tokens)
READECK_TOKEN=your-readeck-token-here

# -----------------------------------------------------------------------------
# Open Notebook - Génération de synthèses et podcasts
# -----------------------------------------------------------------------------
# URL interne du backend Open Notebook (dans Docker)
OPEN_NOTEBOOK_URL=http://open-notebook-backend:5055

# Mot de passe API Open Notebook (défini dans la config ON)
OPEN_NOTEBOOK_PASSWORD=your-opennotebook-password-here

# -----------------------------------------------------------------------------
# Flux RSS à ingérer
# -----------------------------------------------------------------------------
# Liste de flux RSS séparés par des virgules
RSS_FEEDS=https://hnrss.org/frontpage,https://feeds.arstechnica.com/arstechnica/technology-lab

# -----------------------------------------------------------------------------
# Scheduler - Planification des tâches
# -----------------------------------------------------------------------------
# Heure d'exécution du fetcher RSS quotidien (0-23)
RSS_FETCH_HOUR=8

# Jour de la synchronisation hebdomadaire (monday, tuesday, wednesday, thursday, friday, saturday, sunday)
SYNC_DAY=sunday

# Heure de la synchronisation hebdomadaire (0-23)
SYNC_HOUR=23

# -----------------------------------------------------------------------------
# Hébergement audio
# -----------------------------------------------------------------------------
# Mode d'hébergement : local | backblaze | anchor
AUDIO_HOSTING=local

# --- Backblaze B2 (si AUDIO_HOSTING=backblaze) ---
BACKBLAZE_KEY_ID=
BACKBLAZE_APPLICATION_KEY=
BACKBLAZE_BUCKET=weekly-digest-audio
BACKBLAZE_ENDPOINT=https://s3.us-west-000.backblazeb2.com

# --- Anchor.fm (si AUDIO_HOSTING=anchor) - OPTIONNEL ---
# Note: Anchor n'a pas d'API publique officielle, cette option est expérimentale
ANCHOR_EMAIL=
ANCHOR_PASSWORD=

# --- Local (si AUDIO_HOSTING=local) ---
# Chemin où stocker les fichiers audio (dans le container)
AUDIO_LOCAL_PATH=/audio

# URL publique pour accéder aux fichiers audio
AUDIO_PUBLIC_URL=http://localhost/audio

# -----------------------------------------------------------------------------
# Podcast - Configuration des profils
# -----------------------------------------------------------------------------
# Profil d'épisode Open Notebook (voir /api/episode-profiles)
PODCAST_EPISODE_PROFILE=default

# Profil de speakers Open Notebook (voir /api/speaker-profiles)
PODCAST_SPEAKER_PROFILE=default

# -----------------------------------------------------------------------------
# Base de données
# -----------------------------------------------------------------------------
# Chemin de la base SQLite (dans le container)
DATABASE_PATH=/data/state.db

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Niveau de log : DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# Format de log : json | console
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# API Orchestrator
# -----------------------------------------------------------------------------
# Port de l'API FastAPI
API_PORT=8002

# Activer le mode debug FastAPI
API_DEBUG=false

# -----------------------------------------------------------------------------
# Timeouts (en secondes)
# -----------------------------------------------------------------------------
# Timeout pour le traitement d'une source Open Notebook
SOURCE_PROCESSING_TIMEOUT=300

# Timeout pour la génération d'un podcast
PODCAST_GENERATION_TIMEOUT=600

# Timeout pour les requêtes HTTP
HTTP_TIMEOUT=30

# -----------------------------------------------------------------------------
# Retry
# -----------------------------------------------------------------------------
# Nombre de tentatives en cas d'erreur
MAX_RETRIES=3

# Délai initial entre les tentatives (secondes)
RETRY_DELAY=5
